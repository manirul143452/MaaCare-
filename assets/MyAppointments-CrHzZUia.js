import{c as z,r as a,j as e,b as T,M as R,V as y,h as O,f as E,C as P}from"./index-DoYr3QT2.js";import{C as I}from"./clock-BOrs0Fo1.js";import{T as j}from"./triangle-alert-So79fXhg.js";import{V as L}from"./video-DR_T-P2Z.js";import{A as U}from"./arrow-right-DJkHS1hw.js";import{X as _}from"./x-CKQHuuuw.js";import{C as D}from"./circle-alert-CGXJh1-5.js";import{C as V}from"./circle-check-CywLT0Jn.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],w=z("circle-x",B),M=["Scheduling conflict","No longer needed","Emergency","Financial reasons","Technical issues","Other"],J=({onJoinCall:c,onNavigate:t})=>{var b;const[x,h]=a.useState([]),[m,N]=a.useState("All"),[d,l]=a.useState(null),[r,p]=a.useState(""),[g,u]=a.useState("");a.useEffect(()=>{(()=>{const n=localStorage.getItem("maacare_appointments");if(n){const i=JSON.parse(n).sort((A,S)=>new Date(S.date).getTime()-new Date(A.date).getTime());h(i)}})()},[]);const o=new Date().toISOString().split("T")[0],f=x.filter(s=>m==="All"?!0:m==="Upcoming"?s.date>=o&&s.status==="Confirmed":s.date<o||s.status==="Cancelled"||s.status==="Completed"),k=()=>{if(!d)return;const s=r==="Other"?g:r,n=x.map(i=>i.id===d?{...i,status:"Cancelled",cancellationReason:s||"No reason provided"}:i);h(n),localStorage.setItem("maacare_appointments",JSON.stringify(n)),l(null),p(""),u("")},v=()=>x.find(s=>s.id===d),C=s=>{switch(s){case"Confirmed":return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-green-50 text-green-700 text-[10px] font-black uppercase tracking-widest border border-green-100",children:[e.jsx(V,{size:12})," Confirmed"]});case"Completed":return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-blue-50 text-blue-700 text-[10px] font-black uppercase tracking-widest border border-blue-100",children:[e.jsx(P,{size:12})," Completed"]});case"Cancelled":return e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-red-50 text-red-700 text-[10px] font-black uppercase tracking-widest border border-red-100",children:[e.jsx(w,{size:12})," Cancelled"]});default:return null}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Appointments"}),e.jsx("p",{className:"text-gray-500",children:"Track and manage your upcoming and past consultations."})]}),e.jsx("div",{className:"flex bg-white p-1 rounded-2xl shadow-sm border border-gray-100 overflow-x-auto no-scrollbar",children:["All","Upcoming","Past"].map(s=>e.jsx("button",{onClick:()=>N(s),className:`px-5 py-2.5 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${m===s?"bg-indigo-600 text-white shadow-lg":"text-gray-500 hover:bg-gray-50"}`,children:s==="All"?"All Sessions":s==="Upcoming"?"Upcoming":"History"},s))})]}),e.jsx("div",{className:"space-y-6",children:f.length>0?f.map(s=>e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-[2.5rem] border border-gray-100 shadow-sm flex flex-col md:flex-row gap-6 items-start md:items-center hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsxs("div",{className:"flex items-center gap-6 flex-1 w-full",children:[e.jsx("div",{className:"relative shrink-0",children:e.jsx("div",{className:"w-20 h-20 rounded-[1.5rem] overflow-hidden border-4 border-gray-50 shadow-inner",children:e.jsx("img",{src:s.expertImage,className:"w-full h-full object-cover",alt:""})})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h3",{className:"font-black text-gray-900 text-xl tracking-tight",children:s.expertName}),C(s.status)]}),e.jsx("p",{className:"text-xs text-indigo-500 font-black uppercase tracking-widest",children:s.specialty}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-600",children:[e.jsx(T,{size:14,className:"text-gray-400"}),new Date(s.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-600",children:[e.jsx(I,{size:14,className:"text-gray-400"})," ",s.time]})]}),s.status==="Cancelled"&&s.cancellationReason&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-2xl border border-red-100/50 flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[e.jsx(j,{size:16,className:"text-red-500 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-red-700 uppercase tracking-widest mb-1",children:"Reason for Cancellation"}),e.jsx("p",{className:"text-xs text-red-600 font-medium leading-relaxed",children:s.cancellationReason})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 w-full md:w-auto pt-4 md:pt-0 border-t md:border-t-0 border-gray-50",children:[s.status==="Confirmed"&&s.date>=o&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>c==null?void 0:c(s),className:"flex-1 md:flex-none px-6 py-3.5 bg-indigo-600 text-white rounded-2xl font-bold hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-indigo-100 active:scale-95",children:[e.jsx(L,{size:18})," Join Call"]}),e.jsx("button",{onClick:()=>l(s.id),className:"p-3.5 text-red-500 bg-red-50 hover:bg-red-100 rounded-2xl transition-all border border-red-100 active:scale-95",title:"Cancel Appointment",children:e.jsx(w,{size:20})})]}),(s.status==="Completed"||s.status==="Cancelled"||s.date<o)&&e.jsxs("button",{onClick:()=>t==null?void 0:t(y.EXPERT_CONSULTATION),className:"flex-1 md:flex-none px-6 py-3.5 bg-white border border-gray-100 text-gray-700 rounded-2xl font-bold hover:bg-gray-50 transition-all flex items-center justify-center gap-2 shadow-sm",children:[e.jsx(R,{size:18,className:"text-pink-500"})," Book Again"]})]})]},s.id)):e.jsxs("div",{className:"bg-white rounded-[3rem] py-24 border border-gray-100 flex flex-col items-center justify-center gap-6 text-center px-10 shadow-sm",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-50 rounded-[2.5rem] flex items-center justify-center text-gray-300 shadow-inner",children:e.jsx(O,{size:48})}),e.jsxs("div",{className:"max-w-xs",children:[e.jsx("p",{className:"text-gray-900 font-black text-2xl tracking-tight mb-2",children:"No results found"}),e.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:"Try adjusting your filters or browse our specialists to book your first consultation."})]}),e.jsxs("button",{onClick:()=>t==null?void 0:t(y.EXPERT_CONSULTATION),className:"px-10 py-4 bg-pink-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-pink-700 transition-all shadow-2xl shadow-pink-100 flex items-center gap-3 active:scale-95",children:["Browse Specialists ",e.jsx(U,{size:18})]})]})}),d&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-950/60 backdrop-blur-md",onClick:()=>l(null)}),e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl relative z-10 overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-red-100 text-red-600 rounded-2xl flex items-center justify-center shadow-inner",children:e.jsx(j,{size:28})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-gray-900 text-xl tracking-tight",children:"Cancel Appointment"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Consultation with ",(b=v())==null?void 0:b.expertName]})]})]}),e.jsx("button",{onClick:()=>l(null),className:"p-3 hover:bg-white rounded-2xl text-gray-400 transition-colors border border-transparent hover:border-gray-100",children:e.jsx(_,{size:24})})]}),e.jsxs("div",{className:"p-10 space-y-8",children:[e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center font-medium",children:"We're sorry you need to cancel. Please select a reason to help us improve our services."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:M.map(s=>e.jsx("button",{onClick:()=>p(s),className:`px-4 py-4 rounded-2xl text-[11px] font-black uppercase tracking-wider border transition-all text-left ${r===s?"bg-red-50 border-red-200 text-red-600 shadow-sm":"bg-white border-gray-100 text-gray-400 hover:border-red-100"}`,children:s},s))}),r==="Other"&&e.jsx("textarea",{value:g,onChange:s=>u(s.target.value),placeholder:"Please specify your reason...",className:"w-full p-5 rounded-[1.5rem] border border-gray-100 bg-gray-50 text-sm outline-none focus:ring-4 focus:ring-red-500/10 transition-all resize-none h-32"})]}),e.jsxs("div",{className:"p-10 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>l(null),className:"flex-1 py-4 px-6 bg-white border border-gray-100 text-gray-700 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-gray-100 transition-all",children:"Go Back"}),e.jsx("button",{onClick:k,disabled:!r||r==="Other"&&!g.trim(),className:"flex-1 py-4 px-6 bg-red-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-700 transition-all shadow-xl shadow-red-100 disabled:opacity-50 active:scale-95",children:"Confirm Cancellation"})]})]})]}),e.jsxs("section",{className:"bg-white p-10 rounded-[3rem] border border-gray-100 shadow-sm grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-3",children:[e.jsx(E,{size:24,className:"text-indigo-500"})," Patient Care Policy"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsx("h4",{className:"font-black text-gray-900 text-xs uppercase tracking-widest mb-2",children:"Encrypted Video Rooms"}),e.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed font-medium",children:"Your privacy is our priority. All video calls are end-to-end encrypted and HIPAA compliant. Join your room 5 minutes early to test your equipment."})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-black text-gray-900 flex items-center gap-3",children:[e.jsx(D,{size:24,className:"text-pink-500"})," Cancellation Policy"]}),e.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100",children:[e.jsx("h4",{className:"font-black text-gray-900 text-xs uppercase tracking-widest mb-2",children:"24-Hour Notice"}),e.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed font-medium",children:"Cancellations made more than 24 hours before the session are fully refundable. Late cancellations may incur a processing fee."})]})]})]})]})};export{J as default};
