import{c as h,r as s,j as e,A as P,e as Z,M as Se}from"./index-DoYr3QT2.js";import{G as Ae,M as Re}from"./index-CvX4IAyf.js";import{L as Ie}from"./loader-circle-CaRgQr9H.js";import{X as J}from"./x-CKQHuuuw.js";import{M as ee}from"./mic-DbFa4UNt.js";import{C as te}from"./circle-alert-CGXJh1-5.js";import{U as Te}from"./user-CpKiKtjj.js";import{C as Ee}from"./clock-BOrs0Fo1.js";import{Z as _e}from"./zap-BPebCRMw.js";import{V as $e}from"./video-DR_T-P2Z.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Oe=h("hard-drive",De);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Le=h("maximize",Ve);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],qe=h("mic-off",Fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Be=h("phone-off",Pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}]],re=h("signal-high",He);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]],Ge=h("signal-low",Ue);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}]],We=h("signal-medium",Ye);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],se=h("video-off",Ke);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ae=h("volume-2",Qe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ze=h("wifi-off",Xe),Je=["Consultation finished","Technical issues","Poor audio/video quality","Emergency","Accidental hang up","Other"],dt=({appointment:f,onClose:ne})=>{const[p,B]=s.useState(!1),[b,ie]=s.useState(!1),[j,oe]=s.useState(!1),[H,E]=s.useState(!1),[le,U]=s.useState(""),[ce,de]=s.useState(0),[z,S]=s.useState("disconnected"),[xe,A]=s.useState(0),[he,_]=s.useState("0.0%"),[ue,$]=s.useState("2.4 Mbps"),[me,D]=s.useState(!1),[G,Y]=s.useState(0),[ge,O]=s.useState(!1),[R,fe]=s.useState(""),[W,pe]=s.useState(""),w=s.useRef(null),K=s.useRef(null),V=s.useRef(null),v=s.useRef(null),M=s.useRef(0),I=s.useRef(new Set),L=s.useRef(null),F=s.useRef(null),C=s.useRef(null),T=s.useRef(null);s.useEffect(()=>{if(!p){S("disconnected"),A(0);return}const t=setInterval(()=>{const r=Math.random();r>.95?(S("poor"),A(Math.floor(Math.random()*300)+400),_((Math.random()*5).toFixed(1)+"%"),$((Math.random()*.5+.2).toFixed(1)+" Mbps")):r>.8?(S("good"),A(Math.floor(Math.random()*100)+150),_((Math.random()*1).toFixed(1)+"%"),$((Math.random()*1+1.2).toFixed(1)+" Mbps")):(S("excellent"),A(Math.floor(Math.random()*40)+30),_("0.0%"),$((Math.random()*.5+2.5).toFixed(1)+" Mbps"))},5e3);return()=>clearInterval(t)},[p]),s.useEffect(()=>{if(!T.current)return;const t=new Uint8Array(T.current.frequencyBinCount);let r;const n=()=>{var a;if(b)Y(0);else{(a=T.current)==null||a.getByteFrequencyData(t);const u=t.reduce((m,i)=>m+i,0)/t.length;Y(Math.min(100,u*1.5))}r=requestAnimationFrame(n)};return n(),()=>cancelAnimationFrame(r)},[b,p]);function be(t){const r=atob(t),n=r.length,a=new Uint8Array(n);for(let c=0;c<n;c++)a[c]=r.charCodeAt(c);return a}async function we(t,r,n,a){const c=new Int16Array(t.buffer),u=c.length/a,m=r.createBuffer(a,u,n);for(let i=0;i<a;i++){const o=m.getChannelData(i);for(let l=0;l<u;l++)o[l]=c[l*a+i]/32768}return m}function ye(t){let r="";const n=t.byteLength;for(let a=0;a<n;a++)r+=String.fromCharCode(t[a]);return btoa(r)}function je(t){const r=t.length,n=new Int16Array(r);for(let a=0;a<r;a++)n[a]=t[a]*32768;return{data:ye(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}const ve=()=>{if(!v.current)return;const t=v.current,r=t.createOscillator(),n=t.createGain();r.type="sine",r.frequency.setValueAtTime(440,t.currentTime),r.frequency.exponentialRampToValueAtTime(880,t.currentTime+.1),n.gain.setValueAtTime(.2,t.currentTime),n.gain.exponentialRampToValueAtTime(.001,t.currentTime+.3),r.connect(n),n.connect(t.destination),r.start(),r.stop(t.currentTime+.3)},Q=async()=>{try{const t=new Ae({apiKey:void 0}),r=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),n=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});V.current=r,v.current=n;const a=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});w.current&&(w.current.srcObject=a);const c=r.createMediaStreamSource(a),u=r.createAnalyser();u.fftSize=256,c.connect(u),T.current=u;const m=t.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{B(!0),C.current=window.setInterval(()=>{de(d=>d+1)},1e3);const i=r.createScriptProcessor(4096,1,1);i.onaudioprocess=d=>{if(b)return;const y=d.inputBuffer.getChannelData(0),g=je(y);m.then(N=>{N.sendRealtimeInput({media:g})})},c.connect(i),i.connect(r.destination);const o=K.current,l=w.current;if(o&&l){const d=o.getContext("2d");F.current=window.setInterval(()=>{j||(o.width=l.videoWidth||640,o.height=l.videoHeight||480,d==null||d.drawImage(l,0,0,o.width,o.height),o.toBlob(async y=>{if(y){const g=new FileReader;g.onloadend=()=>{const N=g.result.split(",")[1];m.then(x=>{x.sendRealtimeInput({media:{data:N,mimeType:"image/jpeg"}})})},g.readAsDataURL(y)}},"image/jpeg",.6))},1e3)}},onmessage:async i=>{var l,d,y,g,N;const o=(g=(y=(d=(l=i.serverContent)==null?void 0:l.modelTurn)==null?void 0:d.parts[0])==null?void 0:y.inlineData)==null?void 0:g.data;if(o){const x=v.current;if(x){M.current=Math.max(M.current,x.currentTime);const q=await we(be(o),x,24e3,1),k=x.createBufferSource();k.buffer=q,k.connect(x.destination),k.addEventListener("ended",()=>{I.current.delete(k)}),k.start(M.current),M.current+=q.duration,I.current.add(k)}}if((N=i.serverContent)!=null&&N.interrupted){for(const x of I.current){try{x.stop()}catch{}I.current.delete(x)}M.current=0}},onerror:i=>{console.error("Session error",i),E(!0),U("The consultation was interrupted. Please check your connection.")},onclose:()=>{B(!1),C.current&&clearInterval(C.current)}},config:{responseModalities:[Re.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:`You are ${f.expertName}, a certified expert in ${f.specialty} at MaaCare. 
            Speak warmly and empathetically. You are in a secure video consultation. Maintain a professional healthcare tone. 
            Always emphasize that you are an AI assistant and clinical care should be sought for emergencies.`}});L.current=await m}catch(t){console.error(t),E(!0),U("Could not initialize video/audio equipment. Please ensure permissions are granted.")}};s.useEffect(()=>(Q(),()=>{F.current&&clearInterval(F.current),C.current&&clearInterval(C.current),L.current&&L.current.close(),V.current&&V.current.close(),v.current&&v.current.close()}),[]);const Ne=t=>{const r=Math.floor(t/60),n=t%60;return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},ke=()=>ie(!b),Me=()=>{oe(!j),w.current&&w.current.srcObject&&w.current.srcObject.getVideoTracks().forEach(r=>r.enabled=j)},Ce=()=>{O(!0)},X=()=>{ne()},ze=()=>{let t="flex items-center gap-2 px-3 py-1.5 rounded-xl border text-[10px] font-black uppercase tracking-widest shadow-sm transition-all cursor-help hover:scale-105 active:scale-95 ",r=null;switch(z){case"excellent":t+="bg-green-500/10 border-green-500/20 text-green-400",r=e.jsxs(e.Fragment,{children:[e.jsx(re,{size:14})," ",e.jsx("span",{children:"Excellent"})]});break;case"good":t+="bg-amber-500/10 border-amber-500/20 text-amber-400",r=e.jsxs(e.Fragment,{children:[e.jsx(We,{size:14})," ",e.jsx("span",{children:"Good"})]});break;case"poor":t+="bg-red-500/10 border-red-500/20 text-red-400 animate-pulse",r=e.jsxs(e.Fragment,{children:[e.jsx(Ge,{size:14})," ",e.jsx("span",{children:"Poor"})]});break;default:t+="bg-white/5 border-white/10 text-gray-400",r=e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:14})," ",e.jsx("span",{children:"Offline"})]})}return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(!0),className:t,title:"View Connection Details & Troubleshooting",children:r}),p&&!b&&e.jsx("div",{className:"w-8 h-4 bg-gray-950/50 rounded-full flex items-center px-1 overflow-hidden border border-white/10",children:e.jsx("div",{className:"h-2 bg-indigo-500 rounded-full transition-all duration-75 shadow-[0_0_8px_rgba(99,102,241,0.5)]",style:{width:`${G}%`}})})]})};return e.jsxs("div",{className:"fixed inset-0 z-[60] bg-gray-950 flex flex-col items-center justify-center p-0 md:p-4",children:[e.jsxs("div",{className:"w-full max-w-6xl h-full flex flex-col relative overflow-hidden rounded-none md:rounded-[3rem] border-0 md:border border-gray-800 shadow-2xl bg-gray-900",children:[e.jsxs("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"text-center space-y-8 relative z-10",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64 rounded-full bg-indigo-500/10 flex items-center justify-center mx-auto border-[6px] border-indigo-500/20 shadow-[0_0_50px_rgba(99,102,241,0.2)]",children:e.jsx("img",{src:f.expertImage,className:"w-40 h-40 md:w-56 md:h-56 rounded-full object-cover border-4 border-white shadow-2xl",alt:f.expertName})}),p&&e.jsx("div",{className:"absolute -bottom-2 right-4 bg-green-500 p-2 rounded-2xl border-4 border-gray-900 shadow-lg animate-bounce",children:e.jsx(P,{size:24,className:"text-white"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-4xl font-black text-white tracking-tight",children:f.expertName}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Z,{size:18,className:"text-indigo-400"}),e.jsx("p",{className:"text-indigo-300 font-bold uppercase tracking-[0.2em] text-xs",children:f.specialty})]}),!p&&!H&&e.jsx("div",{className:"flex flex-col items-center gap-4 mt-8",children:e.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-white/5 border border-white/10 rounded-2xl text-indigo-100 text-sm font-medium",children:[e.jsx(Ie,{className:"animate-spin",size:18}),e.jsx("span",{children:"Establishing encrypted consultation..."})]})})]})]}),me&&e.jsx("div",{className:"absolute inset-0 z-40 bg-gray-950/40 backdrop-blur-md flex items-center justify-center p-6 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-gray-900/95 border border-white/10 rounded-[2.5rem] w-full max-w-lg p-10 shadow-2xl relative",children:[e.jsx("button",{onClick:()=>D(!1),className:"absolute top-8 right-8 p-3 bg-white/5 text-gray-400 hover:text-white transition-colors rounded-2xl border border-white/5",children:e.jsx(J,{size:20})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`p-4 rounded-[1.5rem] ${z==="excellent"?"bg-green-500/10 text-green-500 border border-green-500/20":z==="good"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:e.jsx(P,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-white text-2xl tracking-tight",children:"Diagnostics"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.2em]",children:"Network Health Center"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 p-5 rounded-[1.75rem] border border-white/5",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(re,{size:12,className:"text-indigo-400"})," Latency"]}),e.jsxs("p",{className:"text-xl font-black text-white",children:[xe," ms"]})]}),e.jsxs("div",{className:"bg-white/5 p-5 rounded-[1.75rem] border border-white/5",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(Oe,{size:12,className:"text-pink-400"})," Bitrate"]}),e.jsx("p",{className:"text-xl font-black text-white",children:ue})]}),e.jsxs("div",{className:"bg-white/5 p-5 rounded-[1.75rem] border border-white/5",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(P,{size:12,className:"text-amber-400"})," Packet Loss"]}),e.jsx("p",{className:"text-xl font-black text-white",children:he})]}),e.jsxs("div",{className:"bg-white/5 p-5 rounded-[1.75rem] border border-white/5",children:[e.jsxs("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest mb-1 flex items-center gap-2",children:[e.jsx(ee,{size:12,className:"text-green-400"})," Mic Input"]}),e.jsx("div",{className:"h-4 bg-gray-950 rounded-full mt-2 overflow-hidden border border-white/5",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-100",style:{width:`${G}%`}})})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/5",children:[e.jsxs("h4",{className:"text-xs font-black text-gray-300 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(ae,{size:16,className:"text-indigo-400"})," Troubleshooting Tools"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:ve,className:"w-full flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{size:18,className:"text-indigo-400"}),e.jsx("span",{className:"text-sm font-bold text-gray-300",children:"Test Speaker Output"})]}),e.jsx("span",{className:"text-[10px] font-black uppercase text-gray-500 group-hover:text-indigo-400",children:"Play Chime"})]}),z==="poor"&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex gap-3 animate-in slide-in-from-bottom-2",children:[e.jsx(te,{size:20,className:"text-red-500 shrink-0"}),e.jsx("p",{className:"text-xs text-red-400 leading-relaxed font-medium",children:"Your signal is unstable. Try switching to cellular data or moving closer to your router for better clinical clarity."})]})]})]}),e.jsx("button",{onClick:()=>D(!1),className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[1.5rem] font-black text-sm uppercase tracking-widest transition-all shadow-2xl shadow-indigo-600/20 active:scale-95",children:"Return to Consultation"})]})]})}),e.jsxs("div",{className:"absolute top-6 right-6 w-36 h-48 md:w-56 md:h-72 bg-gray-950 rounded-[2rem] border-2 border-white/10 shadow-2xl overflow-hidden group transition-all hover:scale-105 active:scale-95 z-20",children:[j?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-gray-500 gap-2",children:[e.jsx(se,{size:32}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Camera Off"})]}):e.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover mirror grayscale-[0.2] brightness-110"}),e.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-1.5 px-2 py-1 bg-black/40 backdrop-blur-md rounded-lg border border-white/10 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(Te,{size:10,className:"text-white"}),e.jsx("span",{className:"text-[10px] text-white font-bold uppercase",children:"You"})]})]}),e.jsxs("div",{className:"absolute top-6 left-6 flex flex-col gap-3 z-20",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"bg-red-500 text-white px-3 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-lg animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})," LIVE"]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl px-4 py-1.5 rounded-xl text-white text-[11px] font-bold border border-white/10 flex items-center gap-2 shadow-sm",children:[e.jsx(Ee,{size:14,className:"text-indigo-400"}),Ne(ce)]}),ze()]}),p&&e.jsxs("div",{className:"bg-green-500/10 backdrop-blur-md px-4 py-2 rounded-2xl text-green-400 text-[10px] font-bold border border-green-500/20 flex items-center gap-2 shadow-sm animate-in fade-in slide-in-from-left-4",children:[e.jsx(Z,{size:14})," Encrypted Call Active"]})]})]}),e.jsxs("div",{className:"h-32 bg-gray-900/80 backdrop-blur-2xl border-t border-white/5 flex items-center justify-between px-6 md:px-12 z-30",children:[e.jsx("div",{className:"hidden md:flex items-center gap-4 flex-1",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-2xl border border-white/5",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 text-indigo-400 rounded-xl flex items-center justify-center",children:e.jsx(_e,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white uppercase",children:"Fast AI Node"}),e.jsx("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-tighter",children:"Ultra-low latency"})]})]})}),e.jsxs("div",{className:"flex items-center gap-5 md:gap-8 justify-center flex-1",children:[e.jsx("button",{onClick:ke,className:`w-14 h-14 md:w-16 md:h-16 rounded-[1.5rem] flex items-center justify-center transition-all ${b?"bg-red-500 text-white shadow-xl shadow-red-500/20 scale-95":"bg-white/5 text-gray-300 border border-white/10 hover:bg-white/10 hover:text-white"}`,children:b?e.jsx(qe,{size:24}):e.jsx(ee,{size:24})}),e.jsx("button",{onClick:Ce,className:"w-20 h-16 md:w-28 md:h-18 bg-red-600 text-white rounded-[2rem] flex items-center justify-center hover:bg-red-700 transition-all shadow-2xl shadow-red-600/30 group active:scale-90",children:e.jsx(Be,{size:32,className:"group-hover:rotate-[135deg] transition-transform duration-300"})}),e.jsx("button",{onClick:Me,className:`w-14 h-14 md:w-16 md:h-16 rounded-[1.5rem] flex items-center justify-center transition-all ${j?"bg-red-500 text-white shadow-xl shadow-red-500/20 scale-95":"bg-white/5 text-gray-300 border border-white/10 hover:bg-white/10 hover:text-white"}`,children:j?e.jsx(se,{size:24}):e.jsx($e,{size:24})})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4 flex-1 justify-end",children:e.jsx("button",{className:"p-4 text-gray-500 hover:text-white transition-colors bg-white/5 rounded-2xl",children:e.jsx(Le,{size:20})})})]}),ge&&e.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-gray-950/80 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-red-100 text-red-600 rounded-2xl flex items-center justify-center shadow-inner",children:e.jsx(Se,{size:28})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-gray-900 text-xl tracking-tight",children:"End Consultation?"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["With ",f.expertName]})]})]}),e.jsx("button",{onClick:()=>O(!1),className:"p-3 hover:bg-white rounded-2xl text-gray-400 transition-colors border border-transparent hover:border-gray-100",children:e.jsx(J,{size:24})})]}),e.jsxs("div",{className:"p-10 space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed text-center font-medium",children:"How was your consultation experience? Please let us know why you are ending the call."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Je.map(t=>e.jsx("button",{onClick:()=>fe(t),className:`px-4 py-4 rounded-2xl text-[11px] font-black uppercase tracking-wider border transition-all text-left ${R===t?"bg-indigo-50 border-indigo-200 text-indigo-600 shadow-sm":"bg-white border-gray-100 text-gray-400 hover:border-indigo-100"}`,children:t},t))}),R==="Other"&&e.jsx("textarea",{value:W,onChange:t=>pe(t.target.value),placeholder:"Tell us more...",className:"w-full p-5 rounded-[1.5rem] border border-gray-100 bg-gray-50 text-sm outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all resize-none h-32"})]}),e.jsxs("div",{className:"p-10 bg-gray-50 border-t border-gray-100 flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:()=>O(!1),className:"flex-1 py-4 px-6 bg-white border border-gray-100 text-gray-700 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-gray-100 transition-all",children:"Stay in Call"}),e.jsx("button",{onClick:X,disabled:!R||R==="Other"&&!W.trim(),className:"flex-1 py-4 px-6 bg-red-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-700 transition-all shadow-xl shadow-red-100 active:scale-90",children:"End Session"})]})]})}),H&&e.jsxs("div",{className:"absolute inset-0 bg-gray-950/95 backdrop-blur-2xl z-[100] flex flex-col items-center justify-center p-8 text-center space-y-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"w-24 h-24 bg-red-500/20 text-red-500 rounded-[2.5rem] flex items-center justify-center border border-red-500/30 shadow-2xl shadow-red-500/10",children:e.jsx(te,{size:48})}),e.jsxs("div",{className:"max-w-sm space-y-4",children:[e.jsx("h3",{className:"text-3xl font-black text-white",children:"Call Interrupted"}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:le})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>{E(!1),Q()},className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-600/20",children:"Try Reconnecting"}),e.jsx("button",{onClick:X,className:"px-8 py-4 bg-white/10 text-white rounded-2xl font-bold hover:bg-white/20 transition-all border border-white/10",children:"End Session"})]})]})]}),e.jsx("canvas",{ref:K,style:{display:"none"}}),e.jsx("style",{children:`
        .mirror {
          transform: scaleX(-1);
        }
      `})]})};export{dt as default};
